# yaml-language-server: $schema=../../schema/forge-v1.0.schema.json

# v1.0.0 Array Model Example: Budget vs Actual
# This demonstrates variance analysis
_forge_version: "1.0.0"

# Monthly budget
budget_2025:
  month: ["Jan", "Feb", "Mar", "Apr", "May", "Jun"]
  revenue: [100000, 105000, 110000, 115000, 120000, 125000]
  expenses: [80000, 82000, 84000, 86000, 88000, 90000]
  profit: "=revenue - expenses"

# Actual results
actual_2025:
  month: ["Jan", "Feb", "Mar", "Apr", "May", "Jun"]
  revenue: [98000, 107000, 112000, 113000, 125000, 130000]
  expenses: [81000, 83000, 85000, 87000, 89000, 92000]
  profit: "=revenue - expenses"

# Variance analysis
variance:
  month: ["Jan", "Feb", "Mar", "Apr", "May", "Jun"]
  revenue_variance: "=actual_2025.revenue - budget_2025.revenue"
  revenue_variance_pct: "=revenue_variance / budget_2025.revenue"
  expense_variance: "=actual_2025.expenses - budget_2025.expenses"
  profit_variance: "=actual_2025.profit - budget_2025.profit"

# Summary statistics
summary:
  total_revenue_variance:
    value: null
    formula: "=SUM(variance.revenue_variance)"

  total_expense_variance:
    value: null
    formula: "=SUM(variance.expense_variance)"

  avg_revenue_variance_pct:
    value: null
    formula: "=AVERAGE(variance.revenue_variance_pct)"

  max_revenue_overperformance:
    value: null
    formula: "=MAX(variance.revenue_variance)"

  min_revenue_variance:
    value: null
    formula: "=MIN(variance.revenue_variance)"
