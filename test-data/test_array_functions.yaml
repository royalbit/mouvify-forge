_forge_version: 1.0.0
scalars:
  array_tests:
    # Basic aggregations
    sum_result:
      formula: "=SUM(numbers.value)"
    avg_result:
      formula: "=AVERAGE(numbers.value)"
    count_result:
      formula: "=COUNT(numbers.value)"
    max_result:
      formula: "=MAX(numbers.value)"
    min_result:
      formula: "=MIN(numbers.value)"
    median_result:
      formula: "=MEDIAN(numbers.value)"
    # Products
    product_result:
      formula: "=PRODUCT(numbers.value)"
    # Array indexing
    index_first:
      formula: "=numbers.value[0]"
    index_last:
      formula: "=numbers.value[4]"
    # Cross-table reference
    cross_table_sum:
      formula: "=SUM(other.amount)"

tables:
  numbers:
    rows:
      - value: 10
        label: "A"
      - value: 20
        label: "B"
      - value: 30
        label: "C"
      - value: 40
        label: "D"
      - value: 50
        label: "E"

  other:
    rows:
      - amount: 100
      - amount: 200
      - amount: 300
