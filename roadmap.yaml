# Forge Roadmap
# For version history, see docs/VERSION_HISTORY.md
# Last research update: 2025-11-28

metadata:
  current_version: "4.1.0"
  last_updated: "2025-11-28"
  philosophy: "Zero tokens. Zero emissions. $40K-$132K/year saved."

# Current Release
current:
  version: "4.1.0"
  status: released
  date: "2025-11-28"
  summary: "Excel Function Boost - UNIQUE/COUNTUNIQUE"
  highlights:
    - "UNIQUE/COUNTUNIQUE: Count unique values in columns"
    - "Works with all types: Number, Text, Boolean, Date"
    - "FormulaErrorContext: Rich error structure with suggestions"
    - "Market research incorporated (Nov 2025)"
  stats:
    tests: 227
    warnings: 0
    throughput: "96K rows/sec"

# ═══════════════════════════════════════════════════════════════════════════════
# NEXT MILESTONES (Prioritized by Research - Nov 2025)
# ═══════════════════════════════════════════════════════════════════════════════

v4_1:
  version: "4.1.0"
  status: released
  date: "2025-11-28"
  summary: "Excel Function Boost - High-Value Additions"
  deliverables:
    - feature: "UNIQUE/COUNTUNIQUE"
      description: "Count unique values in columns (all types)"
      status: done
    - feature: "FormulaErrorContext"
      description: "Rich error structure with suggestions"
      status: done
  stats:
    tests_added: 7
    total_tests: 227

next:
  version: "4.2.0"
  status: planned
  priority: HIGH
  summary: "CLAUDE.md Bootloader - Auto-healing Protocol"
  description: |
    Leverage CLAUDE.md auto-loading (on init + after /compact) to bootstrap
    core rules without manual "run warmup" command.
  design:
    claude_md:
      role: "Kernel - auto-loaded, survives compaction"
      contents:
        - "Core rules (4hr max, 1 milestone, tests pass, zero warnings)"
        - "Environment capabilities (sudo, /usr/local/bin, UPX)"
        - "Script references (bin/release.sh, bin/session-end.sh)"
        - "Self-healing triggers"
        - "Quality gates"
        - "Reference to warmup.yaml for full autonomous context"
      target_size: "~500-1000 tokens"
    warmup_yaml:
      role: "Full protocol - loaded on request for autonomous mode"
  estimated_hours: 2

v4_3:
  version: "4.3.0"
  status: planned
  priority: MEDIUM
  summary: "Advanced Excel Functions"
  deliverables:
    - feature: "OFFSET"
      description: "Dynamic range references for flexible models"
      effort: "3h"
    - feature: "LET"
      description: "Named variables within formulas - cleaner complex formulas"
      effort: "3h"
    - feature: "FILTER"
      description: "Dynamic array filtering"
      effort: "2h"
    - feature: "SORT"
      description: "Dynamic array sorting"
      effort: "2h"
  estimated_hours: 8

# ═══════════════════════════════════════════════════════════════════════════════
# MAJOR RELEASES
# ═══════════════════════════════════════════════════════════════════════════════

v5:
  version: "5.0.0"
  status: planned
  target: "2026-Q1"
  summary: "Python Bindings & Distribution"
  rationale: |
    Quants and data scientists want Python integration.
    Opens Jupyter notebook use case - huge market.
  features:
    python:
      - "PyO3 bindings for forge-core"
      - "pip install royalbit-forge"
      - "Jupyter notebook integration"
      - "pandas DataFrame interop"
    distribution:
      - "Homebrew formula"
      - "Scoop manifest (Windows)"
      - "Publish Zed extension to zed-industries/extensions"
      - "Publish VSCode extension to marketplace"

v6:
  version: "6.0.0"
  status: exploratory
  target: "2026-Q2"
  summary: "Forge Cloud (SaaS)"
  features:
    - "Web UI for YAML model editing"
    - "Real-time collaboration (like Google Sheets)"
    - "Version control built-in"
    - "Enterprise SSO"
    - "API access for automation"

# ═══════════════════════════════════════════════════════════════════════════════
# MARKET INTELLIGENCE (Updated Nov 2025)
# ═══════════════════════════════════════════════════════════════════════════════

market:
  last_updated: "2025-11-28"

  microsoft_excel:
    copilot_function:
      launched: "Nov 2025"
      description: "=COPILOT() function in cells - AI generates content"
      limits: "100 calls/10min, 300 calls/hour"
      requires: "OneDrive/SharePoint (cloud-only)"
      weakness: "Still hallucinates - probabilistic, not deterministic"
      source: "https://www.windowscentral.com/microsoft/microsoft-office/microsoft-excel-gets-more-ai-and-this-time-its-actually-useful"
    agent_mode:
      description: "Multi-step tasks in Excel grid"
      models: "Now supports Anthropic + OpenAI"
      source: "Microsoft Ignite Nov 2025"

  google_sheets:
    ai_function:
      description: "=AI() function for categorization, summarization"
      launched: "2025"
    formula_assistance:
      description: "Gemini explains formula errors + self-corrects"
      launched: "Sept 2025"
      source: "https://workspaceupdates.googleblog.com/2025/09/smarter-natural-formula-generation-gemini-sheets.html"
    pricing: "$14/user/month for Business Standard with Gemini"

  mcp_ecosystem:
    anniversary: "Nov 25, 2025 - MCP turned 1 year old"
    new_spec:
      - "PCI-compliant payment processing"
      - "Parallel tool calls"
      - "Better context control"
    enterprise_adoption:
      - "Microsoft Dynamics 365 ERP MCP Server (public preview)"
      - "Worldpay MCP for payments (launched Nov 24, 2025)"
    source: "https://blog.modelcontextprotocol.io/posts/2025-11-25-first-mcp-anniversary/"

  yaml_trends:
    deployment_failures: "40% of K8s failures from YAML config errors"
    adoption: "70%+ orgs using structured data by mid-2025"
    validation_impact: "30% decrease in critical errors with schema validation"
    source: "DevOps Institute 2025 Survey"

  fpa_usage:
    excel_weekly: "96% of FP&A professionals use Excel weekly"
    top_functions:
      - "XNPV/XIRR (irregular cash flows)"
      - "PMT/PV/FV/RATE (loan/mortgage)"
      - "XLOOKUP (modern lookup)"
      - "SUMIFS/COUNTIFS (conditional aggregation)"
      - "CHOOSE (scenario modeling)"
    source: "AFP FP&A Benchmarking Survey 2025"

  forge_differentiators:
    vs_copilot:
      - "Deterministic (same input = same output, always)"
      - "Local execution (no cloud dependency)"
      - "Git-friendly (YAML = version control)"
      - "Open source (MIT license)"
      - "No hallucinations (formulas, not predictions)"
    vs_google_ai:
      - "Works offline"
      - "No per-user licensing"
      - "Self-hosted option"

# ═══════════════════════════════════════════════════════════════════════════════
# BACKLOG & RESEARCH
# ═══════════════════════════════════════════════════════════════════════════════

backlog:
  high_value:
    - "GitHub Actions CI (.github/workflows/ci.yml)"
    - "OpenAPI spec + Swagger UI for API server"
    - "INDIRECT function (string-based cell refs) - Hard"
    - "LAMBDA function (custom functions) - Hard"
    - "Forge vs Copilot benchmark suite (marketing)"
    - "MCP v2 compliance (parallel tools, payments)"
  medium_value:
    - "Excel compatibility matrix doc (docs/EXCEL_COMPATIBILITY.md)"
    - "Web UI dashboard"
    - "Docker image"
    - "JetBrains plugin"
  exploratory:
    - "Real-time collaboration"
    - "=FORGE() AI-assist function (local, deterministic suggestions)"

research:
  - id: "experiential-continuity"
    title: "Experiential Continuity Layer"
    status: research
    priority: exploratory
    doc: "docs/research/EXPERIENTIAL_CONTINUITY.md"
    summary: "Extend Forge Protocol with AI identity/experience persistence"

  - id: "copilot-benchmark"
    title: "Forge vs Copilot Benchmark Suite"
    status: idea
    priority: medium
    summary: |
      Create standard financial models (DCF, LBO, IRR calculations).
      Compare Forge (deterministic) vs Copilot (AI-generated).
      Publish hallucination rate data as marketing differentiator.
